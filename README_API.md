# è®ºæ–‡æ ¼å¼æ£€æµ‹ç³»ç»Ÿ - APIæœåŠ¡

## ğŸ“‹ é¡¹ç›®è¯´æ˜

æœ¬é¡¹ç›®å·²å°†è®ºæ–‡æ ¼å¼æ£€æµ‹åŠŸèƒ½å°è£…ä¸ºRESTful APIæœåŠ¡ï¼Œæ‰€æœ‰APIç›¸å…³æ–‡ä»¶å·²æ•´ç†åˆ° `api_service/` ç›®å½•ä¸­ã€‚

## ğŸ“‚ ç›®å½•ç»“æ„

```
paper_detect/
â”œâ”€â”€ api_service/              # â­ APIæœåŠ¡ç›®å½•ï¼ˆæ‰€æœ‰APIæ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ api.py               # APIæœåŠ¡ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ requirements.txt     # ä¾èµ–åŒ…
â”‚   â”œâ”€â”€ start_api.bat       # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ web_demo.html       # Webæµ‹è¯•ç•Œé¢
â”‚   â”œâ”€â”€ test_api_client.py  # æµ‹è¯•å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ é›†æˆç¤ºä¾‹.py          # é›†æˆä»£ç ç¤ºä¾‹
â”‚   â”œâ”€â”€ API_README.md       # APIè¯¦ç»†æ–‡æ¡£
â”‚   â”œâ”€â”€ å¿«é€Ÿå¼€å§‹.md         # å¿«é€Ÿå…¥é—¨
â”‚   â”œâ”€â”€ APIä½¿ç”¨æ€»è§ˆ.md      # ä½¿ç”¨æ€»è§ˆ
â”‚   â””â”€â”€ README.md           # APIç›®å½•è¯´æ˜
â”‚
â”œâ”€â”€ paper_detect/            # æ£€æµ‹æ¨¡å—ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ Title_detect.py
â”‚   â”œâ”€â”€ Abstract_detect.py
â”‚   â”œâ”€â”€ Keywords_detect.py
â”‚   â”œâ”€â”€ Content_detect.py
â”‚   â”œâ”€â”€ Formula_detect.py
â”‚   â””â”€â”€ Table_detect.py
â”‚
â”œâ”€â”€ templates/               # æ£€æµ‹è§„åˆ™é…ç½®
â”‚   â”œâ”€â”€ Title.json
â”‚   â”œâ”€â”€ Abstract.json
â”‚   â”œâ”€â”€ Keywords.json
â”‚   â”œâ”€â”€ Content.json
â”‚   â”œâ”€â”€ Formula.json
â”‚   â””â”€â”€ Table.json
â”‚
â”œâ”€â”€ template/                # æµ‹è¯•æ–‡æ¡£
â”‚   â””â”€â”€ test.docx
â”‚
â””â”€â”€ run_all_detections.py    # å‘½ä»¤è¡Œæ£€æµ‹å·¥å…·ï¼ˆåŸå§‹å·¥å…·ï¼‰
```

## ğŸš€ ä¸¤ç§ä½¿ç”¨æ–¹å¼

### æ–¹å¼1ï¼šAPIæœåŠ¡ï¼ˆæ¨èï¼Œä¾›ç³»ç»Ÿé›†æˆï¼‰

**è¿›å…¥APIç›®å½•å¹¶å¯åŠ¨æœåŠ¡ï¼š**
```bash
cd api_service
start_api.bat
```

æˆ–è€…ï¼š
```bash
cd api_service
pip install -r requirements.txt
python api.py
```

æœåŠ¡åœ°å€ï¼šhttp://localhost:8000

**ä½¿ç”¨Webç•Œé¢æµ‹è¯•ï¼š**
- æ‰“å¼€ `api_service/web_demo.html`

**é€šè¿‡APIè°ƒç”¨ï¼š**
```python
import requests

files = {"file": open("paper.docx", "rb")}
response = requests.post("http://localhost:8000/api/detect", files=files)
task_id = response.json()["task_id"]
```

è¯¦ç»†æ–‡æ¡£ï¼šæŸ¥çœ‹ `api_service/API_README.md`

### æ–¹å¼2ï¼šå‘½ä»¤è¡Œå·¥å…·ï¼ˆåŸå§‹æ–¹å¼ï¼‰

**åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š**
```bash
python run_all_detections.py template/test.docx
```

ç”Ÿæˆç»“æœï¼š
- `test_report.txt` - æ–‡æœ¬æŠ¥å‘Š
- `test_annotated.docx` - å¸¦æ‰¹æ³¨çš„æ–‡æ¡£

## ğŸ“š APIæ–‡æ¡£

è¿›å…¥ `api_service/` ç›®å½•æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| `README.md` | APIç›®å½•è¯´æ˜ |
| `å¿«é€Ÿå¼€å§‹.md` | 3æ­¥å¿«é€Ÿä¸Šæ‰‹ |
| `APIä½¿ç”¨æ€»è§ˆ.md` | æ•´ä½“ä½¿ç”¨è¯´æ˜ |
| `API_README.md` | å®Œæ•´APIæ¥å£æ–‡æ¡£ |
| `é›†æˆç¤ºä¾‹.py` | ç³»ç»Ÿé›†æˆä»£ç ç¤ºä¾‹ |

## ğŸ¯ å¿«é€Ÿå¼€å§‹

**ç¬¬1æ­¥**ï¼šè¿›å…¥APIç›®å½•
```bash
cd api_service
```

**ç¬¬2æ­¥**ï¼šå¯åŠ¨æœåŠ¡
```bash
start_api.bat
```

**ç¬¬3æ­¥**ï¼šæµ‹è¯•
- æ‰“å¼€ `web_demo.html` æˆ–
- è¿è¡Œ `python test_api_client.py ../template/test.docx` æˆ–
- è®¿é—® http://localhost:8000/docs

## ğŸ’¡ é€‚ç”¨åœºæ™¯

### ä½¿ç”¨APIæœåŠ¡
- âœ… éœ€è¦é›†æˆåˆ°å…¶ä»–ç³»ç»Ÿï¼ˆå¦‚è®ºæ–‡æäº¤ç³»ç»Ÿï¼‰
- âœ… éœ€è¦è¿œç¨‹è°ƒç”¨
- âœ… éœ€è¦æ‰¹é‡å¤„ç†
- âœ… éœ€è¦Webç•Œé¢

### ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·
- âœ… å•æœºä½¿ç”¨
- âœ… ç®€å•å¿«é€Ÿ
- âœ… ä¸éœ€è¦æœåŠ¡å™¨

## ğŸ”§ APIæ ¸å¿ƒåŠŸèƒ½

- ğŸ“¤ ä¸Šä¼ Wordæ–‡æ¡£
- ğŸ” è‡ªåŠ¨æ ¼å¼æ£€æµ‹
- ğŸ“Š è¿”å›JSONç»“æœ
- ğŸ“„ ä¸‹è½½æ–‡æœ¬æŠ¥å‘Š
- ğŸ“ ä¸‹è½½å¸¦æ‰¹æ³¨æ–‡æ¡£
- ğŸŒ Webæµ‹è¯•ç•Œé¢

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- APIæ–‡æ¡£ï¼š`api_service/API_README.md`
- åœ¨çº¿æ–‡æ¡£ï¼šhttp://localhost:8000/docsï¼ˆå¯åŠ¨æœåŠ¡åè®¿é—®ï¼‰
- é›†æˆç¤ºä¾‹ï¼š`api_service/é›†æˆç¤ºä¾‹.py`

---

**å»ºè®®**ï¼šå¦‚éœ€é›†æˆåˆ°ç³»ç»Ÿä¸­ï¼Œè¯·æŸ¥çœ‹ `api_service/` ç›®å½•ä¸‹çš„æ–‡æ¡£å¼€å§‹ä½¿ç”¨ã€‚
